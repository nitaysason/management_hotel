<!-- manage-orders.component.html -->

<h2>Orders</h2>

<div>
  <h3>Create New Order</h3>
  <div>
    <label for="new-client">Client ID:</label>
    <input id="new-client" #newClient>
    <label for="new-treatment">Treatment ID:</label>
    <input id="new-treatment" #newTreatment>
    <button (click)="createOrder({ client: newClient.value, treatment: newTreatment.value })">Create Order</button>
  </div>
</div>

<ng-container *ngIf="orders.length > 0; else ordersEmpty">
  <div class="order-container">
    <div *ngFor="let order of orders" class="order-card">
      <div class="order-header">
        <h3>Order #{{ order.id }}</h3>
      </div>
      <div class="order-details">
        <p><strong>Client ID:</strong> {{ order.client }}</p>
        <p><strong>Treatment ID:</strong> {{ order.treatment }}</p>
        <p><strong>Date:</strong> {{ order.date }}</p>
      </div>
      <button (click)="deleteOrder(order.id)" class="warn-button">Delete Order</button>
      <div>
        <label for="client-{{ order.id }}">Client ID:</label>
        <input id="client-{{ order.id }}" #clientInput value="{{ order.client }}">
        <label for="treatment-{{ order.id }}">Treatment ID:</label>
        <input id="treatment-{{ order.id }}" #treatmentInput value="{{ order.treatment }}">
        <button (click)="updateOrder(order.id, clientInput.value, treatmentInput.value)">Update Order</button>

      </div>
    </div>
  </div>
</ng-container>

<ng-template #ordersEmpty>
  <p>No orders available.</p>
</ng-template>
